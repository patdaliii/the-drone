DROP TABLE IF EXISTS drone;

CREATE TABLE drone (
    ID                  BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    SERIAL_NUMBER       VARCHAR(100) NOT NULL,
    MODEL               VARCHAR(255) NOT NULL,
    WEIGHT_LIMIT        INT NOT NULL CHECK (WEIGHT_LIMIT <= 1000),
    BATTERY_CAPACITY    INT NOT NULL CHECK (BATTERY_CAPACITY BETWEEN 0 AND 100),
    STATE               VARCHAR(255) NOT NULL
);

DROP TABLE IF EXISTS medication;

CREATE TABLE medication (
    ID                      BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NAME                    VARCHAR(255) NOT NULL,
    WEIGHT                  INT NOT NULL,
    CODE                    VARCHAR(255) NOT NULL,
    IMAGE                   BLOB,
    DRONE_ID                BIGINT,
    FOREIGN KEY (DRONE_ID) REFERENCES drone(ID)
);